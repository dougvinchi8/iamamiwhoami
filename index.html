<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>BOUNTY RPG: Exploration</title>
    <style>
        body {
            background-color: #050505;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            font-family: 'Courier New', monospace;
            overflow: hidden;
        }

        /* O Container do Jogo */
        #game-screen {
            position: relative;
            width: 640px;  /* 20 blocos de 32px */
            height: 480px; /* 15 blocos de 32px */
            background-color: #0e0e0e;
            border: 2px solid #333;
            box-shadow: 0 0 30px rgba(0, 50, 20, 0.4);
        }

        /* O Personagem e Objetos */
        .pixel-art {
            width: 32px;
            height: 32px;
            position: absolute;
            background-size: cover;
        }

        /* Estilos dos Blocos (Tiles) */
        .tile-wall { background-color: #1a2f1a; border: 1px solid #0f1f0f; box-sizing: border-box; } /* Árvores */
        .tile-floor {url('https://pm1.aminoapps.com/6836/64dff72407f510ef2ce8a12a09981d92e6c433b6v2_hq.jpg'); } /* Chão */
        .tile-water { background-color: #0f1e2e; opacity: 0.8;} /* Água */
        
        /* O Jogador (Você) */
        #player {
    /* Remova a cor de fundo e adicione isso: */
    background-image: url('https://tecoapple.com/wp-content/uploads/2018/02/ionnaleebrasil018.jpg');
    background-size: cover;
    /* ... resto do código ... */
}
        }

        /* Itens Colecionáveis */
        .item {
            background-color: gold;
            border-radius: 50%;
            transform: scale(0.5);
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(0.5); }
            50% { transform: scale(0.7); }
            100% { transform: scale(0.5); }
        }

        /* Interface de Texto (Diálogos) */
        #ui-layer {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 600px;
            background: rgba(0,0,0,0.9);
            border: 1px solid #555;
            padding: 15px;
            display: none; /* Escondido por padrão */
            font-size: 14px;
        }

        #ui-text { margin: 0; }
        
        .controls-hint {
            margin-top: 10px;
            color: #666;
            font-size: 12px;
        }
    </style>
</head>
<body>

    <div id="game-screen">
        <div id="map-layer"></div>
        <div id="player" class="pixel-art"></div>
        
        <div id="ui-layer">
            <p id="ui-text">...</p>
            <p style="color: #aaa; font-size: 10px; margin-top:5px;">(Pressione ESPAÇO para fechar)</p>
        </div>
    </div>

    <div class="controls-hint">Use SETAS ou W-A-S-D para andar. Espaço interage.</div>

    <script>
        // --- CONFIGURAÇÃO DO JOGO ---
        const TILE_SIZE = 32; // Tamanho de cada quadrado
        const player = document.getElementById('player');
        const mapLayer = document.getElementById('map-layer');
        const uiLayer = document.getElementById('ui-layer');
        const uiText = document.getElementById('ui-text');

        // Posição inicial
        let playerPos = { x: 2, y: 2 };
        let isTalking = false;

        // O MAPA (1 = Árvore/Parede, 0 = Chão, 2 = Item/Evento, 3 = Água)
        // Você pode desenhar seu mapa mudando esses números!
        const levelMap = [
            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
            [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
            [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
            [1, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 1],
            [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 1],
            [1, 1, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
            [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
            [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 1],
            [1, 0, 0, 1, 1, 1, 1, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 1],
            [1, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 1],
            [1, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 1],
            [1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
            [1, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
            [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
        ];

        // Textos dos itens (baseado na posição X_Y)
        const interactions = {
            "3_3": "Você encontrou um pedaço de Papel Alumínio. Ele brilha.",
            "17_7": "Um tufo de pelos pretos. O Gato esteve aqui.",
            "1_12": "A Mandrágora dorme aqui. O solo está úmido."
        };

        // --- SISTEMA DE JOGO ---

        function drawMap() {
            mapLayer.innerHTML = ''; // Limpa mapa
            for (let y = 0; y < levelMap.length; y++) {
                for (let x = 0; x < levelMap[y].length; x++) {
                    let tileType = levelMap[y][x];
                    let div = document.createElement('div');
                    div.classList.add('pixel-art');
                    div.style.left = (x * TILE_SIZE) + 'px';
                    div.style.top = (y * TILE_SIZE) + 'px';

                    if (tileType === 1) div.classList.add('tile-wall');
                    else if (tileType === 3) div.classList.add('tile-water');
                    else {
                        div.classList.add('tile-floor');
                        if (tileType === 2) {
                            // Cria item visualmente
                            let item = document.createElement('div');
                            item.classList.add('pixel-art', 'item');
                            div.appendChild(item);
                        }
                    }
                    mapLayer.appendChild(div);
                }
            }
        }

        function updatePlayerPosition() {
            player.style.left = (playerPos.x * TILE_SIZE) + 'px';
            player.style.top = (playerPos.y * TILE_SIZE) + 'px';
        }

        function showDialog(text) {
            uiText.innerText = text;
            uiLayer.style.display = 'block';
            isTalking = true;
        }

        function move(dx, dy) {
            if (isTalking) return; // Não anda se estiver lendo

            let newX = playerPos.x + dx;
            let newY = playerPos.y + dy;

            // Verifica colisão (Se for parede '1' ou água '3', não anda)
            if (levelMap[newY] && levelMap[newY][newX] !== undefined) {
                let targetTile = levelMap[newY][newX];
                
                if (targetTile !== 1 && targetTile !== 3) {
                    playerPos.x = newX;
                    playerPos.y = newY;
                    updatePlayerPosition();
                    
                    // Verifica se pisou em evento/item (2)
                    if (targetTile === 2) {
                        let key = newX + "_" + newY;
                        if(interactions[key]) {
                            showDialog(interactions[key]);
                        }
                    }
                }
            }
        }

        // Controles
        document.addEventListener('keydown', (e) => {
            if (isTalking && e.code === 'Space') {
                uiLayer.style.display = 'none';
                isTalking = false;
                return;
            }

            if (e.key === 'ArrowUp' || e.key === 'w') move(0, -1);
            if (e.key === 'ArrowDown' || e.key === 's') move(0, 1);
            if (e.key === 'ArrowLeft' || e.key === 'a') move(-1, 0);
            if (e.key === 'ArrowRight' || e.key === 'd') move(1, 0);
        });

        // Iniciar
        drawMap();
        updatePlayerPosition();

    </script>
</body>
</html>
